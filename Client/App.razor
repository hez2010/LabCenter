@inject IUserService UserService

<BFUTheme>
    <BFULayerHost>
        <CascadingValue Name="UserInfo" Value="@userInfo">
            <CascadingValue Name="SetUserInfo" Value="@setUserInfo">
                <MainLayout />
            </CascadingValue>
        </CascadingValue>
    </BFULayerHost>
</BFUTheme>

@code {
    private UserInfo? userInfo;
    private Action<UserInfo?>? setUserInfo;

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        setUserInfo = info => userInfo = info;
        userInfo = await UserService.GetProfileAsync();
    }
}
